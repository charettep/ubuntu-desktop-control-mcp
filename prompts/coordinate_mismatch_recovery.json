{
  "name": "coordinate_mismatch_recovery",
  "title": "Recover from coordinate mismatch",
  "description": "Diagnose why a click landed wrong and propose corrected coordinates.",
  "arguments": [
    {
      "name": "target_description",
      "description": "What you were trying to hit",
      "required": true
    },
    {
      "name": "last_click_x",
      "description": "Logical X used previously (if known)",
      "required": false
    },
    {
      "name": "last_click_y",
      "description": "Logical Y used previously (if known)",
      "required": false
    },
    {
      "name": "observed_offset",
      "description": "How far the click was off (text description)",
      "required": false
    }
  ],
  "messages": [
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "You attempted to click {{target_description}} at ({{last_click_x}}, {{last_click_y}}) and it missed (offset: {{observed_offset}}). Run `get_display_diagnostics` to confirm scaling, then capture `screenshot_with_grid` to anchor logical coordinates. If the intended spot is visible, propose corrected logical coords and the exact `click_screen` call (use auto_scale only if using screenshot-measured coords). Keep safety first and suggest reconfirming with a quick screenshot after the next attempt."
      }
    }
  ]
}
